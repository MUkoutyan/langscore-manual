.. _screen_description:

各画面の説明
############


解析ダイアログ
--------------

.. image:: img/analyze_mode.png

1. 解析ボタン

   ゲームプロジェクトフォルダをこの画面にドラッグ＆ドロップしてください。

   正しくフォルダを読み込めた場合、「Langscoreプロジェクトパス」に出力先のパスが表示されます。

   既にプロジェクトが作成済みの場合、翻訳ファイル作成モードに移行します。


翻訳ファイル作成モード
----------------------

.. image:: img/edit_mode.png

1. 翻訳ファイルツリー
   - 翻訳に関わるファイルを一覧できます。
   - 項目をクリックすると、その内容を翻訳ファイルプレビューに表示します。
   - 左のチェックを外すと、翻訳ファイルを書き出さなくなります。

2. 情報ウィンドウ
   - 5種類のウィンドウを切り替えて表示することが出来ます。(下記参照)

3. 書き出しボタン
   - 翻訳ファイルを書き出します。

情報ウィンドウの種類
--------------------

言語
^^^^

翻訳対象の言語を選択することが出来ます。

.. image:: img/edit_mode2.png

.. image:: img/language.png

1. 言語の有効無効ボタン
2. ゲームで使用するフォント
3. フォントサイズ
4. フォントの簡易プレビュー
5. 原文の言語チェック

.. attention:: 原文の言語チェックは、必ずゲーム制作時に使用した言語を選択してください。  
   この設定は原文が何語かを判定する際に使用しているため、異なる言語にチェックを付けると正しく翻訳されない可能性があります。

Main
^^^^

選択したデータ内の文章を確認することが出来ます。
マップのデータやアクター・職業・アイテムといった、基本的なテキストがMainに分類されます。

.. image:: img/edit_mode3.png

1. 選択したデータ名
2. データ内の文字数(ざっくり)
3. 文章の内容



スクリプト
^^^^^^^^^^

スクリプト(プラグイン)に含まれるテキストが含まれます。

* VX Ace
   - 戦闘中のバフ・デバフテキストやショップのテキストはここに含まれます。

* MV/MZ
   - プラグインパラメータ内のテキストも含まれます。
   - プラグインパラメータの場合は TextPoint に / 区切りの文字が表示されます。


.. image:: img/edit_mode4.png

1. 翻訳に含めるかのチェック
   - チェックを外すとlangscore_customに情報が書き出されなくなります。
2. 該当するスクリプトの場所
   - 左から「スクリプト名」「行・列番号」「文字列（内容）」になります。
3. 簡易スクリプトプレビュー
4. 情報・メニュー欄

 * 選択した行のスクリプト名
 * スクリプトの単語数(ざっくり)
 * 自動チェックメニュー
 * 表示フィルターメニュー


.. _screen-auto-check-menu:

自動チェックメニュー
~~~~~~~~~~~~~~~~~~~~~~~~~~

* 記号のみのテキストのチェックを外す

    - "Original Text" に , や :: といった記号 **しか無い** 行のチェックを外します。

* 日本語を含まない文章のチェックを外す

    - "Original Text" に 日本語(ひらがな・カタカナ・漢字)を **含まない** 行のチェックを外します。


表示フィルターメニュー
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* 全ての内容を表示
   - 全ての内容が表示されます。

* 無視にした内容を非表示
   - Include列のチェックが外れている行が非表示になります。


画像
^^^^

.. image:: img/edit_mode5.png

ツリーで選んだ画像がプレビュー表示されます。

翻訳対象に含める際の確認にご利用ください。

ログ
^^^^

書き出し時のログを雑に出力しています。

書き出しダイアログ
------------------

.. image:: img/write_dialog1.png

1. 書き出し先のファイルパス
2. 書き出し先のファイルパスを指定するダイアログを表示
3. 上書きされるファイルをバックアップするかのチェック
4. langscoreスクリプトを上書きする
5. langscore_customスクリプトを上書きします

バックアップについて
^^^^^^^^^^^^^^^^^^^^^^^^^

有効にした場合、以下のファイル・フォルダを"(プロジェクト名)_langscore/backup"に保存します。

- Script.rvdata ファイル
- Translateフォルダ (翻訳書き出し後に作成)

バックアップフォルダは日時を付与するため、バックアップ同士で上書かれることはありません。

制限なく書き出して自動削除もしませんので、折を見て手動で削除してください。

スクリプトの上書きについて
^^^^^^^^^^^^^^^^^^^^^^^^^^

何らかの事情でスクリプトを初期状態に戻したい時に使用してください。

.. warning:: **langscore_customが編集済みでも初期状態に戻しますので、注意してください。**

上書き確認について
^^^^^^^^^^^^^^^^^^

書き出し先にCSVが存在する場合、上書きの確認を行わないと書き出すことが出来ません。

既存の翻訳を残して上書き
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

翻訳された文章がある行は何も変更しません。
また、翻訳CSVに無いテキストは新しい行で書き出されます。

.. image:: img/write_dialog2.png

パッキングモード
----------------

.. image:: img/packing_mode.png

1. 問題の確認を行う際にCSVファイルを検索するパスです。
2. 問題を確認した際にヒットしたファイルです。問題がある場合は警告またはエラーのアイコンが表示されます。(エラー優先)
3. 翻訳文の内容を表示します。警告のある箇所は背景を黄色く、エラーのある箇所は赤く表示します。
4. 翻訳ファイルに問題があるかを確認します。1.で指定したフォルダ以下のCSVを検索します。
5. (VX Aceのみ)CSVファイルをrvdata2にパッキングします。

.. note:: VX Aceの「暗号化アーカイブを作成する」を使用してゲームを配布する場合、パッキングは必ず行ってください。

CSVファイルを検索するパス
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

CSVファイルを検索するパスは **翻訳ファイル書き出しモードで最後にファイルを書き出したフォルダ** になります。

翻訳ファイルを別フォルダに移して作業した場合は、適宜指定し直してください。

問題の確認について
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

翻訳文に致命的なミスが無いかをチェックします。以下の内容を警告またはエラーとして検出します。

- 言語ごとの翻訳文に空の箇所があるか
  - 空の箇所を検出した場合、 ```警告``` が表示されます。

- 翻訳文に原文の制御文字が正しく含まれているか
  - 制御文字含まれていない場合、 ```エラー``` が表示されます。

.. note:: 警告やエラーはあくまでヒントになります。パッキングに影響はありませんが、ゲーム側で意図しない表示になる可能性があります。

パッキングの書き出し先について (VX Aceのみ)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

パッキングしたファイルは常にゲームプロジェクトの```Data/Translate```に書き出されます。

この出力先は変更できません。
